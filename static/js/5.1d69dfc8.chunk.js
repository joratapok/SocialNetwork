(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{323:function(n,e,r){n.exports={paginatorWrapper:"Paginator_paginatorWrapper__1ERZE",pagination:"Paginator_pagination__1R38m",paginationActive:"Paginator_paginationActive__2JlhE",paginatorArrow:"Paginator_paginatorArrow__2pd6W"}},324:function(n,e,r){n.exports={wrapper:"Users_wrapper__3fVek",avatarContainer:"Users_avatarContainer__1Dw5_",userInfo:"Users_userInfo__2yLgi",userName:"Users_userName__3j0cK",userStatus:"Users_userStatus__6Nprf",followButtonWrap:"Users_followButtonWrap__rwnRJ",button:"Users_button__2CZCk",follow:"Users_follow__1Ig55",unfollow:"Users_unfollow__32cxe",pagination:"Users_pagination__1-Bzl",paginationActive:"Users_paginationActive__2b-p7"}},327:function(n,e,r){"use strict";r.r(e);var t=r(40),o=r(41),a=r(43),s=r(42),u=r(1),i=r.n(u),c=r(17),l=r(47);function p(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},a=Object.keys(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}var f=r(108),g=r(323),h=r.n(g),d=r(0),j=function(n){for(var e=n.totalItems,r=n.pageSize,t=n.currentPage,o=n.onPageChanged,a=n.portionSize,s=void 0===a?10:a,i=Math.ceil(e/r),c=[],l=1;l<=i;l++)c.push(l);var p=Math.ceil(i/s),g=Object(u.useState)(1),j=Object(f.a)(g,2),b=j[0],v=j[1],_=(b-1)*s+1,w=b*s;return Object(d.jsxs)("div",{className:h.a.paginatorWrapper,children:[b>1&&Object(d.jsx)("button",{className:h.a.paginatorArrow,onClick:function(){return v(b-1)},children:"< "}),c.filter((function(n){return n>=_&&n<=w})).map((function(n){return Object(d.jsx)("div",{onClick:function(e){return o(n)},className:t===n?[h.a.pagination,h.a.paginationActive].join(" "):h.a.pagination,children:n},n)})),p>b&&Object(d.jsx)("button",{onClick:function(){return v(b+1)},className:h.a.paginatorArrow,children:" >"})]})},b=r(324),v=r.n(b),_=r(99),w=r(18),P=function(n){var e=n.user,r=n.fetchingProcess,t=n.unFollowThunk,o=n.followThunk,a=n.isAuth;return Object(d.jsxs)("div",{className:v.a.wrapper,children:[Object(d.jsx)(w.b,{to:"/profile/"+e.id,children:Object(d.jsx)("div",{className:v.a.avatarContainer,children:Object(d.jsx)("img",{src:e.photos.small?e.photos.small:_.a,alt:"user avatar"})})}),Object(d.jsxs)("div",{className:v.a.userInfo,children:[Object(d.jsx)("div",{className:v.a.userName,children:e.name}),Object(d.jsx)("div",{className:v.a.userStatus,children:e.status}),a?Object(d.jsx)("div",{className:v.a.followButtonWrap,children:e.followed?Object(d.jsx)("button",{disabled:r.some((function(n){return n===e.id})),className:[v.a.button,v.a.unfollow].join(" "),onClick:function(){return t(e.id)},children:"Unfollow"}):Object(d.jsx)("button",{disabled:r.some((function(n){return n===e.id})),className:[v.a.button,v.a.follow].join(" "),onClick:function(){return o(e.id)},children:"Follow"})}):null]})]},e.id)},m=function(n){var e=n.totalUsersCount,r=n.pageSize,t=n.currentPage,o=n.onPageChanged,a=n.users,s=n.unFollowThunk,u=n.followThunk,i=n.fetchingProcess,c=n.isAuth;p(n,["totalUsersCount","pageSize","currentPage","onPageChanged","users","unFollowThunk","followThunk","fetchingProcess","isAuth"]);return Object(d.jsxs)("div",{children:[Object(d.jsx)(j,{totalItems:e,pageSize:r,currentPage:t,onPageChanged:o}),a.map((function(n){return Object(d.jsx)(P,{user:n,unFollowThunk:s,followThunk:u,fetchingProcess:i,isAuth:c},n.id)}))]})},O=r(32);function k(n,e){return n===e}function C(n,e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var t=e.length,o=0;o<t;o++)if(!n(e[o],r[o]))return!1;return!0}function x(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var r=e.map((function(n){return typeof n})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return e}var y=function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];return function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=0,s=t.pop(),u=x(t),i=n.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(r)),c=n((function(){for(var n=[],e=u.length,r=0;r<e;r++)n.push(u[r].apply(null,arguments));return i.apply(null,n)}));return c.resultFunc=s,c.dependencies=u,c.recomputations=function(){return a},c.resetRecomputations=function(){return a=0},c}}((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,r=null,t=null;return function(){return C(e,r,arguments)||(t=n.apply(null,arguments)),r=arguments,t}}));var A=function(n){return n.usersPage.inProgress},U=function(n){return n.usersPage.totalUsersCount},S=function(n){return n.usersPage.pageSize},T=function(n){return n.usersPage.currentPage},N=y((function(n){return n.usersPage.users}),(function(n){return n})),z=function(n){return n.usersPage.fetchingProcess},F=function(n){return n.auth.isAuth},I=function(n){Object(a.a)(r,n);var e=Object(s.a)(r);function r(){var n;Object(t.a)(this,r);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))).onPageChanged=function(e){n.props.getUsersThunk(e,n.props.pageSize)},n.render=function(){return Object(d.jsxs)(d.Fragment,{children:[n.props.inProgress?Object(d.jsx)(O.a,{}):null,Object(d.jsx)(m,{totalUsersCount:n.props.totalUsersCount,pageSize:n.props.pageSize,onPageChanged:n.onPageChanged,currentPage:n.props.currentPage,users:n.props.users,fetchingProcess:n.props.fetchingProcess,unFollowThunk:n.props.unFollowThunk,followThunk:n.props.followThunk,setCurrentPage:n.props.setCurrentPage,isAuth:n.props.isAuth})]})},n}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}}]),r}(i.a.Component),W={setCurrentPage:l.e,changefetchingProcess:l.a,getUsersThunk:l.d,unFollowThunk:l.g,followThunk:l.c},E=Object(c.b)((function(n){return{totalUsersCount:U(n),pageSize:S(n),currentPage:T(n),users:N(n),fetchingProcess:z(n),inProgress:A(n),isAuth:F(n)}}),W)(I);e.default=E}}]);
//# sourceMappingURL=5.1d69dfc8.chunk.js.map