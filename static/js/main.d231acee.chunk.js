(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{109:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(45),a=n(5),c="ADD-MESSAGE",s={dialogs:[{id:1,message:"First message"},{id:2,message:"Second message v rot kompot ne pishi mne bolshe"},{id:3,message:"Third message"}],people:[{id:1,name:"Marina"},{id:2,name:"Maksim"},{id:3,name:"Dmitry"},{id:4,name:"Pes"}]},i=function(e){return{type:c,message:e.message}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:3,message:t.message};return Object(a.a)(Object(a.a)({},e),{},{dialogs:[].concat(Object(r.a)(e.dialogs),[n])});default:return e}}},110:function(e,t,n){"use strict";n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return x})),n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return y}));var r=n(9),a=n.n(r),c=n(18),s=n(45),i=n(5),o=n(15),u="FOLLOW",l="UNFOLLOW",d="SET_USERS",p="SET_CURRENT_PAGE",j="SET_TOTAL_USER_COUNT",b="SHOW_PROGRESS_BAR",f="TOGGLE_FETCHING_PROCESS",h={users:[],pageSize:5,totalUsersCount:0,currentPage:1,inProgress:!0,fetchingProcess:[]},O=function(e){return{type:u,userId:e}},m=function(e){return{type:l,userId:e}},v=function(e){return{type:p,page:e}},g=function(e){return{type:b,show:e}},_=function(e,t){return{type:f,fetchingProcess:e,userId:t}},x=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(g(!0)),n.next=3,o.c.getUsers(e,t);case 3:c=n.sent,r(g(!1)),r((s=c.items,{type:d,users:s})),r((a=c.totalCount,{type:j,totalUserCount:a})),r(v(e));case 8:case"end":return n.stop()}var a,s}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(_(!0,t)),e.next=3,r(t);case 3:0==e.sent.resultCode&&n(c(t)),n(_(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),N=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e,n,o.c.delFollow.bind(o.c),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e,n,o.c.postFollow.bind(o.c),O);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!0}):e}))});case l:return Object(i.a)(Object(i.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(i.a)(Object(i.a)({},e),{},{followed:!1}):e}))});case d:return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case p:return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.page});case j:return Object(i.a)(Object(i.a)({},e),{},{totalUsersCount:t.totalUserCount});case b:return Object(i.a)(Object(i.a)({},e),{},{inProgress:t.show});case f:return Object(i.a)(Object(i.a)({},e),{},{fetchingProcess:t.fetchingProcess?[].concat(Object(s.a)(e.fetchingProcess),[t.userId]):e.fetchingProcess.filter((function(e){return e!=t.userId}))});default:return e}}},12:function(e,t,n){e.exports={wrapper:"CentralMenu_wrapper__2lRlz",wrapperCentral:"CentralMenu_wrapperCentral__1cbPW",leftCentralMenu:"CentralMenu_leftCentralMenu__1a7qE",rightCentralMenu:"CentralMenu_rightCentralMenu__3ILsv",item:"CentralMenu_item__LdXFU",active:"CentralMenu_active__SdYCa"}},139:function(e,t,n){e.exports={wrapper:"LeftColumn_wrapper__2juOt"}},140:function(e,t,n){e.exports={wrap:"Content_wrap__2mTzc"}},142:function(e,t,n){e.exports={footerWrapper:"Footer_footerWrapper__2DS-n",divHeadImg:"Footer_divHeadImg__htw7-",headImg:"Footer_headImg__33l9X"}},15:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(136),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"df10e29a-08da-4eb5-b4ee-199d2cd1d939"}}),c={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},postFollow:function(e){return a.post("follow/".concat(e)).then((function(e){return e.data}))},delFollow:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))},getProfile:function(e){return s.getProfile(e)}},s={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},putStatus:function(e){return a.put("profile/status",{status:e})}},i={authMe:function(){return a.get("auth/me")},login:function(e){return a.post("auth/login",{email:e.email,password:e.password,rememberMe:e.rememberMe})},logout:function(){return a.delete("auth/login")}}},172:function(e,t,n){},255:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},26:function(e,t,n){e.exports={textAreaWrap:"FormsControl_textAreaWrap__Nw_un",textArea:"FormsControl_textArea__38Chg",input:"FormsControl_input__uoHMi",error:"FormsControl_error__3bpNl",errorMessage:"FormsControl_errorMessage__3a9MT"}},260:function(e,t,n){},298:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,311)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},a=n(0),c=n.n(a),s=n(65),i=n.n(s),o=(n(172),n(21)),u=n(17),l=n(11),d=n(98),p=n(109),j={},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return e},f=n(110),h=n(9),O=n.n(h),m=n(18),v=n(5),g=n(15),_=n(56),x="SET_USER",w="LOG_OUT_USER",N={id:null,email:null,login:null,isAuth:!1,inProgress:!1},y=function(e){return{type:x,data:e}},C=function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.authMe();case 2:0===(n=e.sent).data.resultCode&&t(y(n.data.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(window.state=e,t.type){case x:return Object(v.a)(Object(v.a)(Object(v.a)({},e),t.data),{},{isAuth:!0});case w:return Object(v.a)({},N);default:return e}},S="INIT_APP",M={initApp:!1},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(v.a)(Object(v.a)({},e),{},{initApp:!0});default:return e}},k=n(137),T=n(134),I=Object(l.c)({postsPage:d.b,messagesPage:p.b,sideBar:b,usersPage:f.b,auth:A,form:T.a,init:P}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,F=Object(l.e)(I,W(Object(l.a)(k.a))),E=n(35),U=n(36),L=n(38),R=n(37),H=(n(255),n(70)),z=n.n(H),B=n(1),D=function(){return Object(B.jsx)("div",{className:z.a.header,children:Object(B.jsx)("div",{className:z.a.divHeadImg,children:Object(B.jsx)("img",{className:z.a.headImg,src:"https://i.pinimg.com/originals/c4/9a/fc/c49afc3e6634c8e2d8161618b57aa122.jpg",alt:""})})})},G=n(139),Y=n.n(G),J=n(71),X=n.n(J),q=function(){return Object(B.jsx)("div",{className:X.a.divAvatar,children:Object(B.jsx)("div",{className:X.a.backAvatar,children:Object(B.jsx)("img",{className:X.a.avatar,src:"https://media.geeksforgeeks.org/wp-content/uploads/20210209004413/AVATAR2.png",alt:""})})})},K=n(34),V=n.n(K),Z=function(e){var t=function(e){return Object(B.jsxs)("div",{className:V.a.loginWrap,children:[Object(B.jsxs)("div",{className:V.a.login,children:["Hello, ",e.login]}),Object(B.jsx)("button",{onClick:e.logout,className:V.a.logoutButton,children:" Logout "})]})};return Object(B.jsx)("div",{className:V.a.wrap,children:Object(B.jsx)("div",{className:V.a.items,children:e.auth.isAuth?Object(B.jsx)(t,{login:e.auth.login,logout:e.logout}):Object(B.jsx)(u.b,{activeClassName:V.a.active,to:"/login",children:"Login"})})})},Q=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).logout=function(){e.props.logoutThunk()},e}return Object(U.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(B.jsx)(Z,Object(v.a)(Object(v.a)({},this.props),{},{logout:this.logout}))}}]),n}(c.a.Component),$=Object(o.b)((function(e){return{auth:e.auth}}),{setAuthUser:y,logoutThunk:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.logout();case 2:0===e.sent.data.resultCode&&t({type:w});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Q),ee=function(){return Object(B.jsxs)("div",{className:Y.a.wrapper,children:[Object(B.jsx)(q,{}),Object(B.jsx)($,{})]})},te=n(12),ne=n.n(te),re=function(){return Object(B.jsx)("div",{className:ne.a.wrapper,children:Object(B.jsxs)("div",{className:ne.a.wrapperCentral,children:[Object(B.jsx)("div",{className:ne.a.leftCentralMenu}),Object(B.jsxs)("div",{className:ne.a.rightCentralMenu,children:[Object(B.jsx)("div",{className:ne.a.item,children:Object(B.jsx)(u.b,{activeClassName:ne.a.active,to:"/profile",children:"Profile"})}),Object(B.jsx)("div",{className:ne.a.item,children:Object(B.jsx)(u.b,{activeClassName:ne.a.active,to:"/dialogs",children:"Messages"})}),Object(B.jsx)("div",{className:ne.a.item,children:Object(B.jsx)(u.b,{activeClassName:ne.a.active,to:"/users",children:"Users"})}),Object(B.jsx)("div",{className:ne.a.item,children:Object(B.jsx)(u.b,{activeClassName:ne.a.active,to:"/news",children:"News"})}),Object(B.jsx)("div",{className:ne.a.item,children:Object(B.jsx)(u.b,{activeClassName:ne.a.active,to:"/music",children:"Music"})}),Object(B.jsx)("div",{className:ne.a.item,children:Object(B.jsx)(u.b,{activeClassName:ne.a.active,to:"/settings",children:"Settings"})})]})]})})},ae=n(140),ce=n.n(ae),se=(n(258),function(){return Object(B.jsx)("div",{children:"News"})}),ie=(n(259),function(){return Object(B.jsx)("div",{children:"Music"})}),oe=(n(260),n(40)),ue=function(){return Object(B.jsx)("div",{children:Object(B.jsx)(oe.a,{})})},le=n(10),de=n(132),pe=n(133),je=n(66),be=n(67),fe=n(46),he=n.n(fe),Oe=n(95),me=n.n(Oe),ve=function(e){return Object(B.jsx)("div",{className:me.a.buttonWrap,children:Object(B.jsx)("button",{className:me.a.button,children:"Login"})})},ge=function(e){var t=e.handleSubmit,n=e.error;return Object(B.jsxs)("form",{onSubmit:t,children:[Object(B.jsx)("div",{children:Object(B.jsx)(de.a,{placeholder:"email",type:"email",name:"email",validate:[je.c,je.b],component:be.a})}),Object(B.jsx)("div",{children:Object(B.jsx)(de.a,{type:"password",name:"password",placeholder:"password",validate:[je.c],component:be.a})}),Object(B.jsx)(de.a,{type:"hidden",name:"rememberMe",value:"1",component:be.a}),n&&Object(B.jsx)("div",{className:he.a.errorWrapper,children:Object(B.jsx)("div",{className:he.a.errorField,children:n})}),Object(B.jsx)("div",{className:he.a.buttonWrapper,children:Object(B.jsx)(ve,{})})]})};ge=Object(pe.a)({form:"login"})(ge);var _e=function(e){return Object(B.jsxs)("div",{className:he.a.loginWrap,children:[Object(B.jsx)("div",{className:he.a.title,children:"Login Page"}),Object(B.jsx)(ge,{onSubmit:e.onSubmit})]})},xe=n(141),we=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onSubmit=function(t){e.props.loginThunk(t)},e}return Object(U.a)(n,[{key:"render",value:function(){return this.props.auth?Object(B.jsx)(xe.a,{to:"/profile"}):Object(B.jsx)(_e,{onSubmit:this.onSubmit})}}]),n}(c.a.Component),Ne=Object(o.b)((function(e){return{status:e.postsPage.status,auth:e.auth.isAuth}}),{loginThunk:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(n){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.login(e);case 2:0===(r=t.sent).data.resultCode?n(C()):n(Object(_.a)("login",{_error:r.data.messages}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(we),ye=c.a.lazy((function(){return n.e(4).then(n.bind(null,314))})),Ce=c.a.lazy((function(){return n.e(3).then(n.bind(null,312))})),Ae=c.a.lazy((function(){return n.e(5).then(n.bind(null,313))})),Se=function(e){return Object(B.jsx)("div",{className:ce.a.wrap,children:Object(B.jsxs)(c.a.Suspense,{fallback:Object(B.jsx)(oe.a,{}),children:[Object(B.jsx)(le.b,{path:"/profile/:userId?",render:function(){return Object(B.jsx)(Ce,{})}}),Object(B.jsx)(le.b,{path:"/dialogs",render:function(){return Object(B.jsx)(ye,{})}}),Object(B.jsx)(le.b,{path:"/users",render:function(){return Object(B.jsx)(Ae,{})}}),Object(B.jsx)(le.b,{path:"/news",component:se}),Object(B.jsx)(le.b,{path:"/music",component:ie}),Object(B.jsx)(le.b,{path:"/settings",component:ue}),Object(B.jsx)(le.b,{path:"/login",render:function(){return Object(B.jsx)(Ne,{})}})]})})},Me=n(142),Pe=n.n(Me),ke=function(){return Object(B.jsx)("div",{className:Pe.a.footerWrapper,children:"footer"})},Te=function(e){Object(L.a)(n,e);var t=Object(R.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(U.a)(n,[{key:"componentDidMount",value:function(){this.props.initAppThunk()}},{key:"render",value:function(){return this.props.initApp?Object(B.jsxs)("div",{className:"app-wrapper",children:[Object(B.jsx)(D,{}),Object(B.jsx)(re,{}),Object(B.jsx)("div",{className:"middle-wrapper",children:Object(B.jsxs)("div",{className:"middle",children:[Object(B.jsx)(ee,{}),Object(B.jsx)(Se,{})]})}),Object(B.jsx)(ke,{})]}):Object(B.jsx)(oe.a,{})}}]),n}(c.a.Component),Ie=Object(o.b)((function(e){return{initApp:e.init.initApp}}),{initAppThunk:function(){return function(e){e(C()).then((function(t){return e({type:S})}))}}})(Te),We=function(){return Object(B.jsx)(u.a,{children:Object(B.jsx)(o.a,{store:F,children:Object(B.jsx)(Ie,{})})})};i.a.render(Object(B.jsx)(We,{}),document.getElementById("root")),r()},34:function(e,t,n){e.exports={wrap:"NavMenu_wrap__2RhFN",items:"NavMenu_items__1qYKU",loginWrap:"NavMenu_loginWrap__2BA87",login:"NavMenu_login__3-5bH",active:"NavMenu_active__1SHZe",logoutButton:"NavMenu_logoutButton__2HwBP"}},40:function(e,t,n){"use strict";n(0),n.p;var r=n(94),a=n.n(r),c=n(1);t.a=function(){return Object(c.jsx)("div",{className:a.a.wrapper,children:Object(c.jsx)("div",{className:a.a.preloader,children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{})})})})})})})}},46:function(e,t,n){e.exports={loginWrap:"Login_loginWrap__2ANgR",title:"Login_title__2UYzH",newPostWrap:"Login_newPostWrap__UF53R",textAreaWrap:"Login_textAreaWrap__1f2bb",errorWrapper:"Login_errorWrapper__skmeZ",errorField:"Login_errorField__2GV5Q",buttonWrapper:"Login_buttonWrapper__3Up9z"}},66:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t)return t.length>e?"max length ".concat(e," symbols"):void 0}},c=function(e){if(e.length>30)return"max length 30 symbols"}},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(5),a=(n(0),n(26)),c=n.n(a),s=n(1),i=function(e){var t=e.meta.touched&&e.meta.error;return Object(s.jsxs)("div",{className:c.a.textAreaWrap,children:[Object(s.jsx)("textarea",Object(r.a)(Object(r.a)({className:c.a.textArea+" "+(t?c.a.error:"")},e),e.input)),t&&Object(s.jsxs)("span",{className:c.a.errorMessage,children:[e.meta.error," "]})]})},o=function(e){var t=e.meta.touched&&e.meta.error;return Object(s.jsxs)("div",{className:c.a.textAreaWrap,children:[Object(s.jsx)("input",Object(r.a)(Object(r.a)({className:c.a.input+" "+(t?c.a.error:"")},e),e.input)),t&&Object(s.jsxs)("span",{className:c.a.errorMessage,children:[e.meta.error," "]})]})}},70:function(e,t,n){e.exports={header:"Header_header__1T4FC",divHeadImg:"Header_divHeadImg__1U3bU",headImg:"Header_headImg__3ORRH"}},71:function(e,t,n){e.exports={divAvatar:"Avatar_divAvatar__1rJOc",backAvatar:"Avatar_backAvatar__IZ98z",avatar:"Avatar_avatar__1JcGz"}},94:function(e,t,n){e.exports={wrapper:"Preloader_wrapper__2UNeM",preloader:"Preloader_preloader__19vM6","preloader-spin":"Preloader_preloader-spin__1zu9x"}},95:function(e,t,n){e.exports={buttonWrap:"Button_buttonWrap__ljYWk",button:"Button_button__3K7ff"}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return O}));var r=n(9),a=n.n(r),c=n(18),s=n(45),i=n(5),o=n(15),u="ADD_POST",l="SET_USER_PROFILE",d="SET_STATUS",p={posts:[{id:1,post:"Hi psina. I glad to see you in my home page. I hope that you feel yourself good and your mood want to dance",like:0},{id:2,post:"It's my first post",like:0}]},j=function(e){return{type:u,post:e}},b=function(e){return{type:d,text:e}},f=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:l,user:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:r=t.sent,n(b(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.putStatus(e);case 2:0==t.sent.data.resultCode&&n(b(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:3,post:t.post,like:0};return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[n])});case l:return Object(i.a)(Object(i.a)({},e),{},{user:t.user});case d:return Object(i.a)(Object(i.a)({},e),{},{status:t.text});default:return e}}}},[[298,1,2]]]);
//# sourceMappingURL=main.d231acee.chunk.js.map